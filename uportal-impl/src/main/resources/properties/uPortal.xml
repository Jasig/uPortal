<Context path="@webappPath@" docBase="@webappDocBase@" crossContext="true">

  <Resource name="jdbc/PortalDb" auth="Container" type="javax.sql.DataSource"/>
  <Resource name="jdbc/PersonDb" auth="Container" type="javax.sql.DataSource"/>

  <ResourceParams name="jdbc/PortalDb">
    <parameter><name>factory</name><value>org.apache.commons.dbcp.BasicDataSourceFactory</value></parameter>

    <!-- Maximum number of dB connections in pool. Set to 0 for no limit.-->
    <!-- Maximum number of idle dB connections to retain in pool. Set to 0 for no limit.-->
    <!-- Maximum time to wait for a dB connection to become available in ms, in this example 10 seconds. An Exception is thrown if this timeout is exceeded.  Set to -1 to wait indefinitely. -->
    <parameter><name>maxActive</name><value>100</value></parameter>
    <parameter><name>maxIdle</name><value>30</value></parameter>
    <parameter><name>maxWait</name><value>10000</value></parameter>

    <!-- JDBC driver configuration  -->
    <parameter><name>driverClassName</name><value>@jdbcDriver@</value></parameter>
    <parameter><name>url</name><value>@jdbcUrl@</value></parameter>
    <parameter><name>username</name><value>@jdbcUser@</value></parameter>
    <parameter><name>password</name><value>@jdbcPassword@</value></parameter>
    <parameter><name>poolPreparedStatements</name><value>@poolPreparedStatements@</value></parameter>

  </ResourceParams>


  <ResourceParams name="jdbc/PersonDb">

    <parameter><name>factory</name><value>org.apache.commons.dbcp.BasicDataSourceFactory</value></parameter>

    <!-- Maximum number of dB connections in pool. Set to 0 for no limit.-->
    <!-- Maximum number of idle dB connections to retain in pool. Set to 0 for no limit.-->
    <!-- Maximum time to wait for a dB connection to become available in ms, in this example 10 seconds. An Exception is thrown if this timeout is exceeded.  Set to -1 to wait indefinitely. -->
    <parameter><name>maxActive</name><value>100</value></parameter>
    <parameter><name>maxIdle</name><value>30</value></parameter>
    <parameter><name>maxWait</name><value>10000</value></parameter>

    <!-- JDBC driver configuration  -->
    <parameter><name>driverClassName</name><value>@jdbcDriver@</value></parameter>
    <parameter><name>url</name><value>@jdbcUrl@</value></parameter>
    <parameter><name>username</name><value>@jdbcUser@</value></parameter>
    <parameter><name>password</name><value>@jdbcPassword@</value></parameter>
    <parameter><name>poolPreparedStatements</name><value>@poolPreparedStatements@</value></parameter>

  </ResourceParams>

    <!-- Disables restart persistence of sessions -->
    <Manager pathname=""/>

</Context>
