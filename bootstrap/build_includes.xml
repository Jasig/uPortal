<project name="uPortal_Includes" basedir="." xmlns:artifact="urn:maven-artifact-ant">
    <dirname property="imported.basedir" file="${ant.file.uPortal_Includes}"/>

    <typedef resource="org/apache/maven/artifact/ant/antlib.xml" uri="urn:maven-artifact-ant">
        <classpath>
            <pathelement location="${imported.basedir}/maven-ant-tasks-2.0.8.jar" />
        </classpath>
    </typedef>

    <taskdef resource="net/sf/antcontrib/antlib.xml">
        <classpath>
            <pathelement location="${imported.basedir}/ant-contrib-1.0b3.jar" />
        </classpath>
    </taskdef>

    <macrodef name="echo-path">
        <attribute name="pathref" />
        <sequential>
            <echo>echoing path=@{pathref}</echo>
            <for param="fromfile">
                <path refid="@{pathref}" />
                <sequential>
                    <echo>@{fromfile}</echo>
                </sequential>
            </for>
        </sequential>
    </macrodef>

    <macrodef name="echo-fileset">
        <attribute name="filesetref" />
        <sequential>
            <pathconvert pathsep="\n" property="@{filesetref}.echopath">
                <path>
                    <fileset refid="@{filesetref}" />
                </path>
            </pathconvert>
            <echo>------- echoing fileset @{filesetref} -------</echo>
            <echo>${@{filesetref}.echopath}</echo>
        </sequential>
    </macrodef>
</project>