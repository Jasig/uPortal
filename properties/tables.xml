<?xml version="1.0"?>
<!-- $Revision$ -->

<tables>
  <table>
    <name>UP_USER</name>
    <desc>Entries that uniquely identify a portal session for a particular user</desc>
    <columns>
      <column> <name>USER_ID</name>          <type>INTEGER</type>
        <desc>Internal sequence id of a user's portal information - unique user identifier - primary key, see UP_SEQUENCE</desc>
        <key>PK</key>
      </column>
      <column> <name>USER_NAME</name>        <type>VARCHAR</type>   <param>35</param>
        <desc>Authentication prinicipal - Foreign key to up_person_dir</desc>
      </column>
      <column> <name>USER_DFLT_USR_ID</name> <type>INTEGER</type>
        <desc>use the information from this user id as a default, that is a backup to revert to if user makes mistakes changing content or profile, and the initial layout for a user.</desc>
      </column>
      <column> <name>USER_DFLT_LAY_ID</name> <type>INTEGER</type>
        <desc>Portal uses the layout from this layout ID to revert back to, and the initial layout for a user.</desc>
      </column>
      <column> <name>NEXT_STRUCT_ID</name>   <type>INTEGER</type>
        <desc>NEXT_STRUCT_ID used by the user in layout - found in up_layout_struct based on user. Each user has a seperate, unique, sequence of struct_ids</desc>
      </column>
      <column> <name>LST_CHAN_UPDT_DT</name> <type>TIMESTAMP</type>
        <desc>Date time of last time channels were updated - It is set when a user adds a channel to his or her layout. The channel manager will be able to (not yet) present a list of channels added since the last time the user checked.</desc>
      </column>
    </columns>
  </table>

  <table>
    <name>UP_USER_PARAM</name>
    <desc>Not used</desc>
    <columns>
      <column> <name>USER_ID</name>          <type>INTEGER</type>
      </column>
      <column> <name>USER_PARAM_NAME</name>  <type>VARCHAR</type> <param>35</param>
      </column>
      <column> <name>USER_PARAM_VALUE</name> <type>VARCHAR</type> <param>255</param>
      </column>
    </columns>
    <not-null>USER_ID</not-null>
  </table>

  <table>
    <name>UP_PERSON_DIR</name>
    <desc>Directory information for a given person, including the MD5 password. Emulates a simple external authentication service, like LDAP.</desc>
    <columns>
      <column> <name>USER_NAME</name>       <type>VARCHAR</type>   <param>35</param>
        <desc>Authentication prinicipal - Primary key and foreign key foreign key to external authentication system (which is what up_person_dir emulates)</desc>
        <key>PK</key>
      </column>
      <column> <name>ENCRPTD_PSWD</name>    <type>VARCHAR</type>   <param>64</param>
        <desc>MD5 authentication credential - or user's password</desc>
      </column>
      <column> <name>LST_PSWD_CGH_DT</name> <type>TIMESTAMP</type>
        <desc>Date of last password change</desc>
      </column>
      <column> <name>FIRST_NAME</name>	    <type>VARCHAR</type>   <param>15</param>
        <desc>Person's first name</desc>
      </column>
      <column> <name>LAST_NAME</name>       <type>VARCHAR</type>   <param>15</param>
        <desc>Person's last name</desc>
      </column>
      <column> <name>EMAIL</name>           <type>VARCHAR</type>   <param>60</param>
        <desc>Person's e-mail address</desc>
      </column>
    </columns>
    <primary-key>USER_NAME</primary-key>
  </table>

  <table>
    <name>UP_PERMISSION</name>
    <desc>Permission access to framework channels</desc>
    <columns>
      <column> <name>OWNER</name>           <type>VARCHAR</type>   <param>255</param>
      <desc>Framework entity owner - UP_FRAMEWORK, UP_ERROR_CHAN</desc>
      </column>
      <column><name>PRINCIPAL</name>        <type>VARCHAR</type>   <param>255</param>
      <desc>**** Numeric value</desc>
      </column>
      <column><name>ACTIVITY</name>         <type>VARCHAR</type>   <param>255</param>
      <desc>Allowable activities, ex. VIEW, PUBLISH, SUBSCRIBE</desc>
      </column>
      <column><name>TARGET</name>           <type>VARCHAR</type>   <param>255</param>
      <desc>Gives parameter name and value separated by period or text depending up owner's use</desc>
      </column>
      <column><name>PERMISSION_TYPE</name>  <type>VARCHAR</type>   <param>255</param>
      <desc>GRANT or REVOKE (no example yet)</desc>
      </column>
      <column><name>EFFECTIVE</name>        <type>TIMESTAMP</type>
      <desc></desc>
      </column>
      <column><name>EXPIRES</name>          <type>TIMESTAMP</type>
      <desc></desc>
      </column>
    </columns>
  </table>

  <table>
    <name>UP_USER_LAYOUT</name>
    <desc>For a given user, a layout is created giving it an id and title, basing it on an initial structure id - for example a tab column versus a nested structure</desc>
    <columns>
      <column> <name>LAYOUT_ID</name>      <type>INTEGER</type>
        <desc>Layout ID is not unique to the portal but unique for a given user. It links to up_layout_struct</desc>
        <key>CK</key>
      </column>
      <column> <name>USER_ID</name>        <type>INTEGER</type>
        <desc>Foreign key user_id of table up_user</desc>
        <key>CK</key>
      </column>
      <column> <name>LAYOUT_TITLE</name>   <type>VARCHAR</type> <param>15</param>
        <desc>Layout title - the name of the layout in text</desc>
      </column>
      <column> <name>INIT_STRUCT_ID</name> <type>INTEGER</type>
        <desc>Initial structure ID - Points to the first channel/folder in the users layout and sets the start of the document tree</desc>
        <key>FK</key>
      </column>
    </columns>
    <primary-key>LAYOUT_ID</primary-key>
    <primary-key>USER_ID</primary-key>
  </table>

  <table>
    <name>UP_LAYOUT_STRUCT</name>
    <desc>Holds the order of a user's layout structure -  the order in the user layout of channels subscribed to, the order of layout components (columns for example)</desc>
    <columns>
      <column> <name>USER_ID</name>        <type>INTEGER</type>
        <desc>Foreign key user_id of table up_user</desc>
        <key>CK</key>
      </column>
      <column> <name>LAYOUT_ID</name>      <type>INTEGER</type>
        <desc>Foreign key layout_id of table up_user_layout and compound key</desc>
        <key>CK</key>
      </column>
      <column> <name>STRUCT_ID</name>      <type>INTEGER</type>
        <desc>Struct ID is a unique number for a given user and is used by the portal for a given component (channel, column, etc) - primary key  Given by next_struct_id in table up_user</desc>
        <key>CK</key>
      </column>
      <column> <name>NEXT_STRUCT_ID</name> <type>INTEGER</type>
        <desc>Struct ID that follows this ID in a list</desc>
      </column>
      <column> <name>CHLD_STRUCT_ID</name> <type>INTEGER</type>
        <desc>Struct ID that is a child to this ID</desc>
      </column>
      <column> <name>EXTERNAL_ID</name>    <type>INTEGER</type>
        <desc>External ID that is ****</desc>
      </column>
      <column> <name>CHAN_ID</name>        <type>INTEGER</type>
        <desc>Channel ID if the current Struct_ID entry is a channel, then this is set to the channel id subscribed to and located at this position in the layout</desc>
      </column>
      <column> <name>NAME</name>           <type>VARCHAR</type> <param>35</param>
        <desc>Name of this struct entry, name of tab, column, header or footer, etc</desc>
      </column>
      <column> <name>TYPE</name>           <type>VARCHAR</type> <param>35</param>
        <desc>Used by portal to render framework channels - distinguishes structure components like tab and columns from footers, headers and channels</desc>
      </column>
      <column> <name>HIDDEN</name>         <type>VARCHAR</type> <param>1</param>
        <desc>Set to Y if folder or channel is hidden</desc>
      </column>
      <column> <name>IMMUTABLE</name>      <type>VARCHAR</type> <param>1</param>
        <desc>Set to Y if folder or channel cannot be moved in layout</desc>
      </column>
      <column> <name>UNREMOVABLE</name>      <type>VARCHAR</type> <param>1</param>
        <desc>Set to Y if folder or channel cannot be unsubscribed to or removed by user</desc>
      </column>
    </columns>
    <primary-key>LAYOUT_ID</primary-key>
    <primary-key>USER_ID</primary-key>
    <primary-key>STRUCT_ID</primary-key>
  </table>

  <table>
    <name>UP_LAYOUT_PARAM</name>
    <desc>Parameters set by the user at publish time based upon the Channel Publishing Document of a channel class, see UP_CHAN_TYPE table.  Optionally set at subscription time according to the values stored in table up_channel_param</desc>
    <columns>
      <column> <name>USER_ID</name>         <type>INTEGER</type>
        <desc>Foreign key user_id of table up_user</desc>
        <key>CK</key>
      </column>
      <column> <name>LAYOUT_ID</name>       <type>INTEGER</type>
        <desc>Foreign key layout_id of table up_user_layout and compound key</desc>
        <key>CK</key>
      </column>
      <column> <name>STRUCT_ID</name>       <type>INTEGER</type>
        <desc>Foreign key of table UP_LAYOUT_STRUCT and compound key</desc>
        <key>CK</key>
      </column>
      <column> <name>STRUCT_PARM_NM</name>  <type>VARCHAR</type> <param>35</param>
      <desc>Struct parameter name - holds the parameter name as given in the CPD - foreign key of table UP_CHANNEL_PARAM</desc>
      <key>CK</key>

      </column>
      <column> <name>STRUCT_PARM_VAL</name> <type>LONGVARCHAR</type>
        <desc>Struct parameter value - holds the parameter value as entered by the user</desc>
      </column>
    </columns>
    <not-null>LAYOUT_ID</not-null>
    <not-null>USER_ID</not-null>
    <not-null>STRUCT_ID</not-null>
    <not-null>STRUCT_PARM_NM</not-null>
    <not-null>STRUCT_PARM_VAL</not-null>
  </table>

  <table>
    <name>UP_CHANNEL</name>
    <desc>Channels - this table holds the major elements of a channel used as a default for all users</desc>
    <columns>
      <column> <name>CHAN_ID</name>          <type>INTEGER</type>
        <desc>Channel ID is a unique sequence number generated by the portal - primary key, see UP_SEQUENCE</desc>
        <key>PK</key>
      </column>
      <column> <name>CHAN_TITLE</name>       <type>VARCHAR</type>   <param>128</param>
        <desc>Channel title - it appears at the top title bar of the channel</desc>
      </column>
      <column> <name>CHAN_NAME</name>        <type>VARCHAR</type>   <param>128</param>
        <desc>Channel name - used for display name of channel for subscribe, usually the same as title</desc>
      </column>
      <column> <name>CHAN_DESC</name>        <type>VARCHAR</type>   <param>255</param>
        <desc>Channel description - provides additional information to the user about the channel to help him or her select a channel to subscribe to</desc>
      </column>
      <column> <name>CHAN_CLASS</name>       <type>VARCHAR</type>   <param>100</param>
        <desc>Channel class - the java class used to render this type of channel - foreign key to type in table up_chan_types</desc>
        <key>FK</key>
      </column>
      <column> <name>CHAN_TYPE_ID</name>     <type>INTEGER</type>
      <desc>Channel type id - the id of the java class used to render this type of channel - entity type_id from table up_chan_types</desc>
      <key>FK</key>
      </column>
      <column> <name>CHAN_PUBL_ID</name>     <type>INTEGER</type>
        <desc>Channel publisher id - user_id of channel publisher - foreign key user_id of up_user</desc>
        <key>FK</key>
      </column>
      <column> <name>CHAN_PUBL_DT</name>     <type>TIMESTAMP</type>
        <desc>Date channel published</desc>
      </column>
      <column> <name>CHAN_APVL_ID</name>     <type>INTEGER</type>
      <desc>Channel approver id - from user_id of up_user</desc>
      </column>
      <column> <name>CHAN_APVL_DT</name>     <type>TIMESTAMP</type>
        <desc>Date channel approved for use</desc>
      </column>
      <column> <name>CHAN_TIMEOUT</name>     <type>INTEGER</type>
        <desc>Channel timeout (msec) - the amount of time for an individual channel thread to render prior to being aborted, that is not cached and rendered with an error message</desc>
      </column>
      <column> <name>CHAN_EDITABLE</name>    <type>VARCHAR</type>   <param>1</param>
        <desc>Is the channel editable, that is can channel parameters be changed by a user ****</desc>
      </column>
      <column> <name>CHAN_HAS_HELP</name>    <type>VARCHAR</type>   <param>1</param>
        <desc>Does the channel have on-line help</desc>
      </column>
      <column> <name>CHAN_HAS_ABOUT</name>   <type>VARCHAR</type>   <param>1</param>
        <desc>Does the channel have on-line about information - example information about the developers</desc>
      </column>
      <column> <name>CHAN_FNAME</name>       <type>VARCHAR</type>   <param>255</param>
        <desc>Channel functional name.  It is used to find a channel in a user's layout via JNDI.  It is an optional channel attribute.</desc>
      </column>
    </columns>
    <primary-key>CHAN_ID</primary-key>
  </table>

  <table>
    <name>UP_CHANNEL_PARAM</name>
    <desc>Channel parameters - holds channel parameters shared for all users who subscribe to this channel</desc>
    <columns>
      <column> <name>CHAN_ID</name>        <type>INTEGER</type>
        <desc>Foreign key from up_channel</desc>
        <key>FK</key>
      </column>
      <column> <name>CHAN_PARM_NM</name>   <type>VARCHAR</type> <param>35</param>
        <desc>Channel parameter name - a short name for a particular channel ID</desc>
      </column>
      <column> <name>CHAN_PARM_DESC</name> <type>VARCHAR</type> <param>255</param>
        <desc>Channel parameter description - text string that describes parameter</desc>
      </column>
      <column> <name>CHAN_PARM_VAL</name>  <type>VARCHAR</type> <param>255</param>
        <desc>Channel parameter value - contains a parameter's value</desc>
      </column>
      <column> <name>CHAN_PARM_OVRD</name> <type>VARCHAR</type> <param>1</param>
        <desc>Channel parameter override - Either "Y" or "N". "Y" or yes allows a user to override default channel parameters with his/her own</desc>
      </column>
    </columns>
    <not-null>CHAN_ID</not-null>
    <not-null>CHAN_PARM_NM</not-null>
  </table>

  <table>
    <name>UPC_KEYWORD</name>
    <desc>Not used</desc>
    <columns>
      <column> <name>CHAN_ID</name> <type>INTEGER</type>
        <desc>Foreign key of table UP_CHANNEL and compound key</desc>
        <key>CK</key>
      </column>
      <column> <name>GROUP_ID</name> <type>INTEGER</type>
      <desc>Foreign key of table UP_GROUP and compound key</desc>
      <key>CK</key>
      </column>
      <column> <name>USER_ID</name> <type>INTEGER</type>
        <desc>Foreign key USER_ID of table UP_USER</desc>
        <key>CK</key>
      </column>
      <column> <name>KEYWORD</name> <type>LONGVARCHAR</type>
        <desc>Keywords separated by commas used to search for a channel</desc>
      </column>
    </columns>
    <primary-key>CHAN_ID</primary-key>
    <primary-key>GROUP_ID</primary-key>
    <primary-key>USER_ID</primary-key>
  </table>

  <table>
    <name>UP_CHAN_TYPE</name>
    <desc>Information about a java channel class, including the class to execute and it's Channel Publishing Document, used at publish</desc>
    <columns>
      <column> <name>TYPE_ID</name>      <type>INTEGER</type>
        <desc>Type ID is a unique sequence number generated by the portal - primary key</desc>
        <key>PK</key>
      </column>
      <column> <name>TYPE</name>         <type>VARCHAR</type>     <param>50</param>
        <desc>Type holds the name of the java class - eg, org.jasig.portal.channels.CImage</desc>
      </column>
      <column> <name>TYPE_NAME</name>    <type>VARCHAR</type>     <param>70</param>
        <desc>Type name is a short description of the java class displayed during publish</desc>
      </column>
      <column> <name>TYPE_DESCR</name>   <type>LONGVARCHAR</type>
        <desc>Type description of the java class</desc>
      </column>
      <column> <name>TYPE_DEF_URI</name> <type>VARCHAR</type>     <param>255</param>
        <desc>URI or location of the Channel Publishing Document - CPD</desc>
      </column>
    </columns>
    <primary-key>TYPE_ID</primary-key>
  </table>

  <table>
    <name>UPC_BOOKMARKS</name>
    <desc>Used by the bookmark channel to store a user's bookmark data in XML format</desc>
    <columns>
      <column> <name>PORTAL_USER_ID</name> <type>INTEGER</type>
        <desc>Foreign key USER_ID of table UP_USER</desc>
        <key>FK</key>
      </column>
      <column> <name>BOOKMARK_XML</name>   <type>LONGVARCHAR</type>
        <desc>User's bookmarks stored in XML</desc>
      </column>
    </columns>
    <primary-key>PORTAL_USER_ID</primary-key>
  </table>

  <table>
    <name>UP_SEQUENCE</name>
    <desc>Emulates auto-increment/sequence values for the the various uPortal tables primary keys. Not used by DBLoader.</desc>
    <columns>
      <column> <name>SEQUENCE_NAME</name>  <type>VARCHAR</type> <param>255</param>
        <key>PK</key>
        <desc>Name of sequence, corresponds to table name</desc>
      </column>
      <column> <name>SEQUENCE_VALUE</name> <type>INTEGER</type>
        <desc>Next available number</desc>
      </column>
    </columns>
    <primary-key>SEQUENCE_NAME</primary-key>
  </table>

  <table>
    <name>UP_USER_UA_MAP</name>
    <desc>For a given user and layout combination, a list of reasonable browsers stored in user_agent</desc>
    <columns>
      <column> <name>USER_ID</name>    <type>INTEGER</type>
        <desc>Foreign key user_id of table up_user</desc>
        <key>CK</key>
      </column>
      <column> <name>USER_AGENT</name> <type>VARCHAR</type> <param>255</param>
        <desc>User agent string identifying a particular browser and version</desc>
      </column>
      <column> <name>PROFILE_ID</name> <type>INTEGER</type>
        <desc>Foreign key of table UP_USER_PROFILE and compound key</desc>
        <key>CK</key>
      </column>
    </columns>
  </table>

  <table>
    <name>UP_USER_PROFILE</name>
    <columns>
      <column> <name>USER_ID</name>           <type>INTEGER</type>
        <desc>Foreign key USER_ID of table up_user</desc>
        <key>CK</key>
      </column>
      <column> <name>PROFILE_ID</name>        <type>INTEGER</type>
        <desc>Internal sequence id of a profile id - primary key, see UP_SEQUENCE</desc>
        <key>PK</key>
      </column>
      <column> <name>PROFILE_NAME</name>      <type>VARCHAR</type> <param>50</param>
        <desc>Short name of profile</desc>
      </column>
      <column> <name>DESCRIPTION</name>       <type>VARCHAR</type> <param>100</param>
        <desc>Long description of profile</desc>
      </column>
      <column> <name>LAYOUT_ID</name>         <type>INTEGER</type>
      </column>
      <column> <name>STRUCTURE_SS_ID</name>   <type>INTEGER</type>
      </column>
      <column> <name>THEME_SS_ID</name>       <type>INTEGER</type>
      </column>
    </columns>
    <primary-key>USER_ID</primary-key>
    <primary-key>PROFILE_ID</primary-key>
  </table>

  <table>
    <name>UP_SS_USER_PARM</name>
    <desc>Holds a user's parameters according to user's structure style sheet - stored in a given user profile (ex. active tab and skin selection) (see up_ss_struct and up_ss_struct_par) based on ss_id</desc>
    <columns>
      <column> <name>USER_ID</name>              <type>INTEGER</type>
        <desc>Foreign key USER_ID of table UP_USER</desc>
        <key>CK</key>
      </column>
      <column> <name>PROFILE_ID</name>           <type>INTEGER</type>
        <desc>Foreign key of table UP_USER_PROFILE and compound key</desc>
        <key>CK</key>
      </column>
      <column> <name>SS_ID</name>      <type>INTEGER</type>
        <desc>Foreign key of table UP_SS_STRUCT_PARM and compound key</desc>
        <key>CK</key>
      </column>
      <column> <name>SS_TYPE</name> <type>INTEGER</type>
        <desc>Foreign key TYPE of table UP_SS_STRUCT_PARM</desc>
      </column>
      <column> <name>PARAM_NAME</name>             <type>VARCHAR</type>     <param>100</param>
        <desc>Short description of parameter foreign key PARAM_NAME of table UP_SS_STRUCT_PARM</desc>
      </column>
      <column> <name>PARAM_VAL</name>              <type>VARCHAR</type>     <param>255</param>
        <desc>Parameter value (ex. 1 for active tab)</desc>
      </column>
    </columns>
  </table>

  <table>
    <name>UP_SS_USER_ATTS</name>
    <desc>Holds a user's parameters according to user's theme style sheet - stored in a given user profile (ex. column width) (see up_ss_struct and up_ss_struct_par) based on ss_id</desc>
    <columns>
      <column> <name>USER_ID</name>              <type>INTEGER</type>
        <desc>Foreign key USER_ID of table UP_USER</desc>
      </column>
      <column> <name>PROFILE_ID</name>           <type>INTEGER</type>
        <desc>Foreign key of table UP_USER_PROFILE and compound key</desc>
        <key>CK</key>
      </column>
      <column> <name>SS_ID</name>      <type>INTEGER</type>
        <desc>Foreign key of table UP_SS_STRUCT_PARM and compound key</desc>
        <key>CK</key>
      </column>
      <column> <name>SS_TYPE</name> <type>INTEGER</type>
        <desc>Foreign key TYPE of table UP_SS_STRUCT_PARM</desc>
      </column>
      <column> <name>STRUCT_ID</name>      <type>INTEGER</type>
        <desc>Foreign key ss_id of table UP_SS_STRUCT</desc>
      </column>
      <column> <name>PARAM_NAME</name>             <type>VARCHAR</type>     <param>100</param>
        <desc>Short description of parameter foreign key PARAM_NAME of table UP_SS_STRUCT_PARM</desc>
      </column>
      <column> <name>PARAM_TYPE</name>             <type>INTEGER</type>
        <desc>Foreign key TYPE of table UP_SS_STRUCT_PARM</desc>
      </column>
      <column> <name>PARAM_VAL</name>              <type>VARCHAR</type>     <param>255</param>
        <desc>Parameter value (ex. 100% for column width)</desc>
      </column>
    </columns>
  </table>

  <table>
    <name>UP_SS_THEME</name>
    <desc>Theme style sheet information - holds device, mime, serializer and class module information to render a given structured style sheet (see up_ss_struct) (ex. Nested tables or Deck of cards) parameters held in up_ss_theme_parm. Initialized when portal registers a NEW theme stylesheet with the database, adding theme stylesheet description</desc>
    <columns>
      <column> <name>SS_ID</name> <type>INTEGER</type>
        <desc>Style sheet ID is a unique sequence number used by the portal - primary key, see UP_SEQUENCE</desc>
        <key>PK</key>
      </column>
      <column> <name>SS_NAME</name>             <type>VARCHAR</type>     <param>30</param>
        <desc>Theme style sheet name, displayed to the user - (ex. Nested tables or Deck of cards)</desc>
      </column>
      <column> <name>SS_URI</name>              <type>VARCHAR</type>     <param>255</param>
        <desc>URI to locate style sheet used for this transformation</desc>
      </column>
      <column> <name>SS_DESCRIPTION_URI</name>  <type>VARCHAR</type>     <param>255</param>
        <desc>URI to locate style sheet description file</desc>
      </column>
      <column> <name>SS_DESCRIPTION_TEXT</name> <type>LONGVARCHAR</type>
        <desc>Long description of the results of this rendering for a device</desc>
      </column>
      <column> <name>STRUCT_SS_ID</name>		<type>INTEGER</type>
        <desc>Foreign key SS_ID of UP_SS_STRUCT - indicates a corresponding structure style sheet for this device</desc>
        <key>FK</key>
      </column>
      <column> <name>SAMPLE_ICON_URI</name>      <type>VARCHAR</type> <param>255</param>
        <desc>URI locating the graphic for a sample icon representation of this theme</desc>
      </column>
      <column> <name>SAMPLE_URI</name>      <type>VARCHAR</type> <param>255</param>
        <desc>URI locating the full size graphic for a sample representation of this theme (ex. cellphone or workstation)</desc>
      </column>
      <column> <name>MIME_TYPE</name>      <type>VARCHAR</type> <param>30</param>
        <desc>Foreign key MIME_TYPE of table UP_MIME_TYPE - copied from MIME_TYPE of UP_MIME_TYPE</desc>
      </column>
      <column> <name>DEVICE_TYPE</name>      <type>VARCHAR</type> <param>30</param>
        <desc>Description of device (ex. cellphone)</desc>
      </column>
      <column> <name>SERIALIZER_NAME</name>      <type>VARCHAR</type> <param>255</param>
        <desc>Type of serializer to use for this device</desc>
      </column>
      <column> <name>UP_MODULE_CLASS</name>      <type>VARCHAR</type> <param>255</param>
        <desc>Module used to set preferences (see UP_SS_THEME_PARM)</desc>
      </column>
    </columns>
    <primary-key>SS_ID</primary-key>
  </table>

  <table>
    <name>UP_SS_THEME_PARM</name>
    <desc>Used when portal registers and manages theme stylesheets with parameters</desc>
    <columns>
      <column> <name>SS_ID</name> <type>INTEGER</type>
        <desc>Foreign key SS_ID of UP_SS_THEME</desc>
        <key>FK</key>
      </column>
      <column> <name>PARAM_NAME</name>             <type>VARCHAR</type>     <param>100</param>
        <desc>Short description of parameter</desc>
        <key>CK</key>
      </column>
      <column> <name>PARAM_DEFAULT_VAL</name>              <type>VARCHAR</type>     <param>255</param>
      <desc>When first assigning this to a new theme style sheet, parameter is set to this default value</desc>
      </column>
      <column> <name>PARAM_DESCRIPT</name>              <type>VARCHAR</type>     <param>255</param>
      <desc>Long description of the parameter - used for internal documentation</desc>
      </column>
      <column> <name>TYPE</name> <type>INTEGER</type>
      <desc>1 - parameter, 2 - folder attributes are not allowed here, 3 - channel attribute (see RDBMUserLayoutStore)</desc>
      </column>
    </columns>
    <primary-key>SS_ID</primary-key>
    <primary-key>PARAM_NAME</primary-key>
    <primary-key>TYPE</primary-key>
  </table>

  <table>
    <name>UP_SS_STRUCT</name>
    <desc>Structure style sheet information - holds information to change the layout components for a user (ex. tabs and columns or nested categories) parameters held in up_ss_struct_par</desc>
    <columns>
      <column> <name>SS_ID</name> <type>INTEGER</type>
        <desc>Style sheet ID is a unique sequence number used by the portal - primary key, see UP_SEQUENCE</desc>
        <key>PK</key>
      </column>
      <column> <name>SS_NAME</name>             <type>VARCHAR</type>     <param>30</param>
        <desc>Structured style sheet name, displayed to the user - (ex. Tabs and columns, Nested categories)</desc>
      </column>
      <column> <name>SS_URI</name>              <type>VARCHAR</type>     <param>255</param>
        <desc>URI to locate style sheet used for this transformation</desc>
      </column>
      <column> <name>SS_DESCRIPTION_URI</name>  <type>VARCHAR</type>     <param>255</param>
        <desc>URI to locate style sheet description file</desc>
      </column>
      <column> <name>SS_DESCRIPTION_TEXT</name> <type>LONGVARCHAR</type>
        <desc>Long description of the results of this transformation</desc>
      </column>
    </columns>
    <primary-key>SS_ID</primary-key>
  </table>

  <table>
    <name>UP_SS_STRUCT_PAR</name>
    <desc>Structure style parameters associated with style sheet entities defined in up_ss_struct table</desc>
    <columns>
      <column> <name>SS_ID</name> <type>INTEGER</type>
        <desc>Foreign key SS_ID of table UP_SS_STRUCT</desc>
        <key>CK</key>
      </column>
      <column> <name>PARAM_NAME</name>             <type>VARCHAR</type>     <param>100</param>
        <desc>Short description of parameter</desc>
        <key>CK</key>
      </column>
      <column> <name>PARAM_DEFAULT_VAL</name>              <type>VARCHAR</type>     <param>255</param>                   <desc>When first assigning this style sheet parameter is set to this default value</desc>
      </column>
      <column> <name>PARAM_DESCRIPT</name>              <type>VARCHAR</type>     <param>255</param>                   <desc>Long description of the parameter - used to display to user (ex. Width of the column)</desc>
      </column>
      <column> <name>TYPE</name> <type>INTEGER</type>
      <desc>Used by portal to distinguishes between structure components like width and active tab. 1 - parameter, 2 - folder attribute, 3 - channel attribute</desc>
      <key>CK</key>
      </column>
    </columns>
    <primary-key>SS_ID</primary-key>
    <primary-key>PARAM_NAME</primary-key>
    <primary-key>TYPE</primary-key>
  </table>

  <table>
    <name>UP_SS_MAP</name>
    <desc>Reasonable combinations of themes and structures for a given mime type</desc>
    <columns>
      <column> <name>THEME_SS_ID</name>    <type>INTEGER</type>
        <desc>Foreign key SS_ID of table UP_SS_THEME</desc>
        <key>FK</key>
      </column>
      <column> <name>STRUCT_SS_ID</name>   <type>INTEGER</type>
        <desc>Foreign key SS_ID of table UP_SS_STRUCT</desc>
        <key>FK</key>
      </column>
      <column> <name>MIME_TYPE</name>      <type>VARCHAR</type> <param>30</param>
        <desc>Foreign key MIME_TYPE of table UP_MIME-TYPE - copied from MIME_TYPE of UP_MIME_TYPE</desc>
      </column>
    </columns>
  </table>

  <table>
    <name>UP_MIME_TYPE</name>
    <desc>Mime types known by the portal</desc>
    <columns>
      <column> <name>MIME_TYPE</name>             <type>VARCHAR</type>     <param>30</param>
        <desc>A known mime type (ex. text/html)</desc>
        <key>PK</key>
      </column>
      <column> <name>MIME_TYPE_DESCRIPTION</name> <type>LONGVARCHAR</type>
        <desc>Mime type description (ex. HTML mime type is the one that most desktop browsers use for text)</desc>
      </column>
    </columns>
    <primary-key>MIME_TYPE</primary-key>
  </table>

  <table>
    <name>UP_GROUP</name>
    <desc>Entries that uniquely identify a uPortal group</desc>
    <columns>
      <column> <name>GROUP_ID</name>        <type>VARCHAR</type>     <param>255</param>
        <desc>Group ID is a unique sequence number used by the portal - primary key, see UP_SEQUENCE</desc>
        <key>PK</key>
      </column>
      <column> <name>CREATOR_ID</name>      <type>VARCHAR</type>     <param>255</param>
        <desc>Who created this group, foreign key USER_ID of table UP_USER</desc>
        <key>FK</key>
      </column>
      <column> <name>ENTITY_TYPE_ID</name>  <type>INTEGER</type>
        <desc>The entity to be called when a member of this group, foreign key ENTITY_TYPE_ID of table UP_GROUP_ENTITY_TYPE</desc>
        <key>FK</key>
      </column>
      <column> <name>GROUP_NAME</name>      <type>VARCHAR</type>     <param>255</param>
        <desc>Short textual name of the group for finding group</desc>
      </column>
      <column> <name>DESCRIPTION</name>     <type>VARCHAR</type>     <param>255</param>
        <desc>Longer textual description of group to view a brief description of group</desc>
      </column>
    </columns>
    <primary-key>GROUP_ID</primary-key>
    <not-null>CREATOR_ID</not-null>
    <not-null>ENTITY_TYPE_ID</not-null>
    <not-null>GROUP_NAME</not-null>
  </table>

  <table>
    <name>UP_GROUP_ENTITY_TYPE</name>
    <desc>Holds permissible group types, where "type" is analogous to the type of an array, which defines what the container can contain.</desc>
    <columns>
      <column> <name>ENTITY_TYPE_ID</name>    <type>INTEGER</type>
        <desc>Entity type ID is an unique identifying sequence number used by the portal - primary key, see UP_SEQUENCE</desc>
        <key>PK</key>
      </column>
      <column> <name>ENTITY_TYPE_NAME</name>  <type>VARCHAR</type>  <param>255</param>
        <desc>Class name of entity (ex. org.jasig.portal.security.IPerson)</desc>
      </column>
    </columns>
    <primary-key>ENTITY_TYPE_ID</primary-key>
    <not-null>ENTITY_TYPE_NAME</not-null>
  </table>

  <table>
    <name>UP_GROUP_MEMBERSHIP</name>
    <desc>Mapping of member (that is, portal entity or group) to its containing group and flag if it is a group</desc>
    <columns>
      <column> <name>GROUP_ID</name>         <type>VARCHAR</type>     <param>240</param>
        <desc>Unique group id number, key to GROUP_ID in UP_GROUP</desc>
        <key>CK</key>
      </column>
      <column> <name>MEMBER_KEY</name>       <type>VARCHAR</type>     <param>240</param>
        <desc>Key to either the entity or group, e.g., GROUP_ID in UP_GROUP, USER_ID in UP_USER, etc.</desc>
        <key>CK</key>
      </column>
      <column> <name>MEMBER_IS_GROUP</name>  <type>VARCHAR</type>     <param>1</param>
        <desc>Is this member a group?  T for true, F for false</desc>
      </column>
    </columns>
    <primary-key>GROUP_ID</primary-key>
    <primary-key>MEMBER_KEY</primary-key>
    <primary-key>MEMBER_IS_GROUP</primary-key>
  </table>

  <!-- A table that is used by CPermissionsManager, distributed from the JA-SIG Clearinghouse -->
  <table>
    <name>UPC_PERM_MGR</name>
    <desc>A table that is used by CPermissionsManager, distributed from the JA-SIG Clearinghouse</desc>
    <columns>
      <column> <name>IPERMISSIBLE_CLASS</name> <type>LONGVARCHAR</type>
        <desc>Holds name of permissions manager class that permits channels to be available for publish/subscribe</desc>
      </column>
    </columns>
    <not-null>IPERMISSIBLE_CLASS</not-null>
  </table>

  <!-- A table that is used by CGroupsManager, distributed from the JA-SIG Clearinghouse -->
  <table>
    <name>UPC_GROUP_MGR</name>
    <desc>A table that is used by CGroupsManager, distributed from the JA-SIG Clearinghouse</desc>
    <columns>
      <column> <name>OWNER_ID</name> <type>VARCHAR</type>     <param>255</param>
        <desc>The entity who owns the context. Owner id may be a group, person, system, etc.</desc>
      </column>
      <column> <name>OWNER_TYPE</name> <type>CHAR</type>     <param>1</param>
        <desc>The type of owner - (ex. g group)</desc>
      </column>
      <column> <name>GROUP_ID</name> <type>VARCHAR</type>     <param>255</param>
        <desc>Unique group id number, key to GROUP_ID in UP_GROUP</desc>
        <key>CK</key>
      </column>
      <column> <name>ORDINAL</name> <type>INTEGER</type>
        <desc>A numeric counting sequence - integer sequence without gaps - used for placement of the group context within the groups management channel</desc>
      </column>
      <column> <name>EXPANDED</name> <type>CHAR</type>     <param>1</param>
        <desc>Y, for yes, if the group should be expanded the first time the channel is displayed, y or n</desc>
      </column>
      <column> <name>DATE_CREATED</name>     <type>TIMESTAMP</type>
        <desc>The date the context entry was created</desc>
      </column>
    </columns>
    <not-null>OWNER_ID</not-null>
    <not-null>OWNER_TYPE</not-null>
    <not-null>GROUP_ID</not-null>
  </table>

</tables>


